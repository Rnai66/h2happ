@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   LIQUID GLASS THEME TOKENS
   Inspired by: iOS blurred glass, natural light, premium silk.
========================================================= */
@layer base {
  :root {
    /* --- Light Mode (Cool Grey) --- */
    --bg-app: #f8fafc;
    /* slate-50 */
    --bg-frame-gradient: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);

    /* liquid balls / accents (subtle) */
    --accent-glow: rgba(37, 99, 235, 0.1);
    /* blue glow */

    --glass-card: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(148, 163, 184, 0.4);
    /* slate-400 */
    --glass-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);

    --text-main: #1e293b;
    /* slate-800 */
    --text-muted: #475569;
    /* slate-600 */
    --text-accent: #2563eb;
    /* blue-600 */

    --h2h-blue: #2563EB;
    --h2h-gold: #D4AF37;
  }

  .dark {
    /* --- Dark Mode (Grey / Neutral) --- */
    --bg-app: #1f1f1f;
    --bg-frame-gradient: linear-gradient(145deg, #1f1f1f 0%, #2d2d2d 100%);

    --accent-glow: rgba(100, 100, 100, 0.2);
    /* grey glow */

    --glass-card: rgba(45, 45, 45, 0.9);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);

    --text-main: #f5f5f5;
    /* neutral grey-50 */
    --text-muted: #a3a3a3;
    /* neutral grey-400 */
    --text-accent: #10b981;
    /* emerald-500 */
  }

  html,
  body {
    height: 100%;
    /* Start with variables */
    background: var(--bg-app);
    color: var(--text-main);
    font-family: "Prompt", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Sharp text rendering */
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* =========================================================
     LIGHT MODE TEXT COLOR FIXES
     Force white text to dark grey in Light Mode
  ========================================================= */
  :root:not(.dark) .text-white,
  :root:not(.dark) .text-white\/70,
  :root:not(.dark) .text-white\/80,
  :root:not(.dark) .text-white\/60,
  :root:not(.dark) .text-white\/50 {
    color: var(--text-main) !important;
  }

  :root:not(.dark) [class*="text-white/"] {
    color: var(--text-muted) !important;
  }

  /* Specific overrides for semi-transparent white text */
  :root:not(.dark) .text-white\/70,
  :root:not(.dark) .text-white\/60,
  :root:not(.dark) .text-white\/50 {
    color: var(--text-muted) !important;
  }
}

/* =========================================================
   COMPONENTS
========================================================= */
@layer components {

  /* Elephant Animation */
  @keyframes elephant-patrol {
    0% {
      transform: translateX(0) scaleX(-1);
    }

    45% {
      transform: translateX(120px) scaleX(-1);
    }

    50% {
      transform: translateX(120px) scaleX(1);
    }

    95% {
      transform: translateX(0) scaleX(1);
    }

    100% {
      transform: translateX(0) scaleX(-1);
    }
  }

  @keyframes rainbow-glow {
    0% {
      filter: drop-shadow(0 0 5px rgba(255, 0, 0, 0.8));
    }

    15% {
      filter: drop-shadow(0 0 5px rgba(255, 165, 0, 0.8));
    }

    30% {
      filter: drop-shadow(0 0 5px rgba(255, 255, 0, 0.8));
    }

    45% {
      filter: drop-shadow(0 0 5px rgba(0, 128, 0, 0.8));
    }

    60% {
      filter: drop-shadow(0 0 5px rgba(0, 0, 255, 0.8));
    }

    75% {
      filter: drop-shadow(0 0 5px rgba(75, 0, 130, 0.8));
    }

    100% {
      filter: drop-shadow(0 0 5px rgba(238, 130, 238, 0.8));
    }
  }

  .elephant-anim {
    display: inline-block;
    animation:
      elephant-patrol 8s 1 ease-in-out forwards,
      rainbow-glow 8s 1 linear forwards;
    position: relative;
    z-index: 10;
    will-change: transform, filter;
  }

  /* Frame: The outer wrapper */
  .h2h-frame {
    min-height: 100vh;
    padding: 8px;
    /* mobile default */
    background: var(--bg-frame-gradient);
    transition: background 0.5s ease;
  }

  @media (min-width: 768px) {
    .h2h-frame {
      padding: 16px;
    }
  }

  /* Inner Content Area */
  .h2h-frame-inner {
    min-height: 90vh;
    border-radius: 20px;
    /* Optional: extra nested glass level */
  }

  /* Liquid Card */
  .h2h-card {
    background: var(--glass-card);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    box-shadow: var(--glass-shadow);
    color: var(--text-main);
    transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease;
  }

  /* Input Fields */
  .h2h-input {
    width: 100%;
    padding: 10px 14px;
    border-radius: 12px;
    border: 1px solid #94a3b8;
    /* slate-400 for visible border */
    background: #ffffff;
    /* Solid white for contrast */
    color: #000000;
    /* Pure black text */
    transition: all 0.2s;
  }

  .dark .h2h-input {
    background: rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.1);
    color: white;
  }

  .h2h-input:focus {
    outline: none;
    border-color: var(--h2h-blue);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
  }

  /* Buttons */
  .h2h-btn {
    @apply px-4 py-2 rounded-xl text-white font-medium active:scale-[0.98] transition-transform;
    background: linear-gradient(135deg, var(--h2h-blue), var(--h2h-gold));
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
  }

  /* Title Glow */
  .title-glow {
    color: var(--text-main);
    text-shadow: 0 2px 10px var(--accent-glow);
  }
}

/* =========================================================
   CHAT
========================================================= */
.h2h-chat .chat-bubble-me {
  background: var(--h2h-blue);
  color: white;
  border-radius: 16px 16px 2px 16px;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
}

.h2h-chat .chat-bubble-other {
  background: var(--glass-card);
  border: 1px solid var(--glass-border);
  color: var(--text-main);
  border-radius: 16px 16px 16px 2px;
}

/* =========================================================
   PRINT
========================================================= */
@media print {
  .no-print {
    display: none !important;
  }

  .h2h-card {
    box-shadow: none;
    border: 1px solid #ccc;
    background: white;
    color: black;
  }
}